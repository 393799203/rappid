/*! Rappid v2.1.0 - HTML5 Diagramming Framework - TRIAL VERSION

Copyright (c) 2015 client IO

 2017-09-21 


This Source Code Form is subject to the terms of the Rappid Trial License
, v. 2.0. If a copy of the Rappid License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the Rappid archive as was distributed by client IO. See the LICENSE file.*/


joint.alg=joint.alg||{},joint.alg.PriorityQueue=function(a){a=a||{},this.comparator=a.comparator||function(a,b){return a-b},this.index={},this.data=a.data||[],this.heapify()},joint.alg.PriorityQueue.prototype.isEmpty=function(){return 0===this.data.length},joint.alg.PriorityQueue.prototype.insert=function(a,b,c){var d={priority:a,value:b};this.data.push(d);var e=this.data.length-1;c&&(d.id=c,this.index[c]=e),this.bubbleUp(e)},joint.alg.PriorityQueue.prototype.peek=function(){return this.data[0]&&this.data[0].value},joint.alg.PriorityQueue.prototype.peekPriority=function(){return this.data[0]&&this.data[0].priority},joint.alg.PriorityQueue.prototype.updatePriority=function(a,b){var c=this.index[a];if(null===c||"undefined"==typeof c)throw new Error("Node with id "+a+" was not found in the heap.");var d=this.data,e=d[c].priority,f=this.comparator(b,e);f<0?(d[c].priority=b,this.bubbleUp(c)):f>0&&(d[c].priority=b,this.bubbleDown(c))},joint.alg.PriorityQueue.prototype.remove=function(){var a=this.data,b=a[0],c=a.pop();return this.index[a.length]=null,a.length>0&&(a[0]=c,c.id&&(this.index[c.id]=0),this.bubbleDown(0)),b&&b.value},joint.alg.PriorityQueue.prototype.heapify=function(){for(var a=0;a<this.data.length;a++)this.bubbleUp(a)},joint.alg.PriorityQueue.prototype.bubbleUp=function(a){for(var b,c,d=this.data;a>0&&(b=a-1>>>1,this.comparator(d[a].priority,d[b].priority)<0);)c=d[b],d[b]=d[a],d[a].id&&(this.index[d[a].id]=b),d[a]=c,d[a].id&&(this.index[d[a].id]=a),a=b},joint.alg.PriorityQueue.prototype.bubbleDown=function(a){for(var b=this.data,c=b.length-1;;){var d=(a<<1)+1,e=d+1,f=a;if(d<=c&&this.comparator(b[d].priority,b[f].priority)<0&&(f=d),e<=c&&this.comparator(b[e].priority,b[f].priority)<0&&(f=e),f===a)break;var g=b[f];b[f]=b[a],b[a].id&&(this.index[b[a].id]=f),b[a]=g,b[a].id&&(this.index[b[a].id]=a),a=f}};